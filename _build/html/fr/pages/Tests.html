<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Tests &mdash; Documentation Winy Sloths </title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-needs/libs/html/datatables.min.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-needs/common.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-needs/layouts.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-needs/modern.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-needs/styles.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-test-results/common.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/tabs.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables.min.js"></script>
        <script src="../_static/sphinx-needs/libs/html/datatables_loader.js"></script>
        <script src="../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="4. Modules" href="Modules/Modules.html" />
    <link rel="prev" title="2. CI/CD" href="CI.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Winy Sloths
          </a>
              <div class="version">
                2.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table des matières</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="General.html">1. General</a></li>
<li class="toctree-l1"><a class="reference internal" href="CI.html">2. CI/CD</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tests-unitaires">3.1. Tests unitaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests-de-validation">3.2. Tests de validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scenarios-de-test">3.3. Scénarios de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resultats-de-test-unitaires">3.4. Résultats de test unitaires</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#binance">3.4.1. BINANCE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bybit">3.4.2. BYBIT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#qualite-de-code-et-couverture">3.5. Qualité de code et couverture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Modules/Modules.html">4. Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licence.html">5. Licence</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Winy Sloths</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">3. </span>Tests</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Xispa33/winy_sloths/blob/feature_binance/docs/pages/Tests.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="tests">
<span id="id1"></span><h1><span class="section-number">3. </span>Tests<a class="headerlink" href="#tests" title="Lien permanent vers ce titre"></a></h1>
<div class="section" id="tests-unitaires">
<h2><span class="section-number">3.1. </span>Tests unitaires<a class="headerlink" href="#tests-unitaires" title="Lien permanent vers ce titre"></a></h2>
<p>Les comptes de type SPOT et FUTURES sont testés. Ces tests visent à tester unitairement l’ensemble des fonctions permettant de communiquer avec les plateformes d’échanges. Plus précisement, Binance et Bybit sont testés.</p>
<div class="line-block">
<div class="line">Chacune de ces deux plateformes disposent d’un testnet, permettant ainsi de simuler des échanges avec des actifs virtuels. Tous les tests sont effectués en échangeant du bitcoin (BTC).</div>
</div>
</div>
<div class="section" id="tests-de-validation">
<h2><span class="section-number">3.2. </span>Tests de validation<a class="headerlink" href="#tests-de-validation" title="Lien permanent vers ce titre"></a></h2>
<p>Les comptes de type SPOT et FUTURES sont également testés ici. WS est lancé dans un subprocess, le master est stimulé avant le démarrage du subprocess le master. La réaction de WS a cette stimulation est ensuite étudiée.</p>
<div class="line-block">
<div class="line">Pour ces tests, le master est toujours répertorié sur Binance et gère 2 slaves : 1 sur Binance, l’autre sur Bybit.</div>
</div>
<div class="line-block">
<div class="line">De même que pour les TU, les tests sont effectués sur le testnet avec du bitcoin.</div>
</div>
</div>
<div class="section" id="scenarios-de-test">
<h2><span class="section-number">3.3. </span>Scénarios de test<a class="headerlink" href="#scenarios-de-test" title="Lien permanent vers ce titre"></a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Tests unitaires</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Tests de validation</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">BINANCE</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">BYBIT</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">SPOT</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">FUTURES</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"></div></div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-3-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-3-3-0" name="3-0" role="tab" tabindex="0">SPOT</button><button aria-controls="panel-3-3-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-1" name="3-1" role="tab" tabindex="-1">FUTURES</button></div><div aria-labelledby="tab-3-3-0" class="sphinx-tabs-panel" id="panel-3-3-0" name="3-0" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-3-3-1" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-1" name="3-1" role="tabpanel" tabindex="0"></div></div>
</div></div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-4-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-4-4-0" name="4-0" role="tab" tabindex="0">SPOT</button><button aria-controls="panel-4-4-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-1" name="4-1" role="tab" tabindex="-1">FUTURES</button></div><div aria-labelledby="tab-4-4-0" class="sphinx-tabs-panel" id="panel-4-4-0" name="4-0" role="tabpanel" tabindex="0"></div><div aria-labelledby="tab-4-4-1" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-1" name="4-1" role="tabpanel" tabindex="0"></div></div>
</div></div>
<ul>
<li><p>TESTS SPOT</p>
<blockquote>
<div><ul class="simple">
<li><p>Informations sur les tests</p></li>
</ul>
<table class="colwidths-auto docutils align-default" id="id2">
<caption><span class="caption-text">Informations tests des plateformes d’échanges SPOT</span><a class="headerlink" href="#id2" title="Lien permanent vers ce tableau"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Plateforme d’échange</p></th>
<th class="head"><p>Nb tests attendus</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1 - Binance</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-odd"><td><p>2 - Bybit</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>TESTS FUTURES</p>
<blockquote>
<div><ul class="simple">
<li><p>Informations sur les tests</p></li>
</ul>
<table class="colwidths-auto docutils align-default" id="id3">
<caption><span class="caption-text">Informations tests des plateformes d’échanges FUTURES</span><a class="headerlink" href="#id3" title="Lien permanent vers ce tableau"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Plateforme d’échange</p></th>
<th class="head"><p>Nb tests attendus</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1 - Binance</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>2 - Bybit</p></td>
<td><p>8</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="resultats-de-test-unitaires">
<h2><span class="section-number">3.4. </span>Résultats de test unitaires<a class="headerlink" href="#resultats-de-test-unitaires" title="Lien permanent vers ce titre"></a></h2>
<div class="section" id="binance">
<h3><span class="section-number">3.4.1. </span>BINANCE<a class="headerlink" href="#binance" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>Spot</p></li>
</ul>
<h3><span class="section-number">3.4.1. </span>pytest<a class="headerlink" href="#binance" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 9, Failures: 0, Errors: 0, Skips: -1</p>
<p>Time: 22.75</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_compute_side</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_aggregate_trades</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_asset_balance</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_exchange_info</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_order_book</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price_ticker</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_order</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.spot_tests.TestSpotBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_spot_account_trades</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Futures</p></li>
</ul>
<h3><span class="section-number">3.4.1. </span>pytest<a class="headerlink" href="#binance" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 11, Failures: 2, Errors: 0, Skips: -1</p>
<p>Time: 39.177</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_failure row-even"><td class="tr_failure class"><p class="tr_failure">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_failure name"><p class="tr_failure">test_compute_side_futures_account</p></td>
<td class="tr_failure status"><p class="tr_failure">failure</p></td>
<td class="tr_failure reason"><p class="tr_failure">

self = &lt;futures_tests.TestFuturesBinance testMethod=test_compute_side_futures_account&gt;

    def test_compute_side_futures_account(self):
        ret = self.obj_binance.CEP__BaseFunction(functools.partial( \
                self.obj_binance.cep__futures_account_trades, \
                self.symbol), retry=3, retry_period=2)
        pos = self.obj_binance.cep__compute_side_futures_account(self.account,ret)
&gt;       self.assertEqual(pos, OUT)
E       AssertionError: “SHORT” != “OUT”
E       - SHORT
E       + OUT

tests/tu/binance/futures_tests.py:73: AssertionError</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_futures_change_leverage</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_failure row-even"><td class="tr_failure class"><p class="tr_failure">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_failure name"><p class="tr_failure">test_futures_change_position_mode</p></td>
<td class="tr_failure status"><p class="tr_failure">failure</p></td>
<td class="tr_failure reason"><p class="tr_failure">

self = &lt;futures_tests.TestFuturesBinance testMethod=test_futures_change_position_mode&gt;

    def test_futures_change_position_mode(self):
        ret = self.obj_binance.CEP__BaseFunction(functools.partial( \
                self.obj_binance.cep__futures_change_position_mode, \
                TRUE), retry=3, retry_period=2)
&gt;       self.assertIsInstance(ret, dict)
E       AssertionError: 1 is not an instance of &lt;class “dict”&gt;

tests/tu/binance/futures_tests.py:87: AssertionError</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_futures_open_orders</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_futures_position_mode</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_account_balance</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_account_trades</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_time</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price_futures</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_long_futures</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.binance.futures_tests.TestFuturesBinance</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_short_futures</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bybit">
<h3><span class="section-number">3.4.2. </span>BYBIT<a class="headerlink" href="#bybit" title="Lien permanent vers ce titre"></a></h3>
<ul class="simple">
<li><p>Spot</p></li>
</ul>
<h3><span class="section-number">3.4.2. </span>pytest<a class="headerlink" href="#bybit" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 8, Failures: 0, Errors: 0, Skips: -1</p>
<p>Time: 17.759</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_compute_side</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_asset_balance</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_exchange_info</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_order_book</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_spot_account_trades</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price_ticker</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.spot_tests.TestSpotBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_order</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Futures</p></li>
</ul>
<h3><span class="section-number">3.4.2. </span>pytest<a class="headerlink" href="#bybit" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 8, Failures: 2, Errors: 0, Skips: -1</p>
<p>Time: 21.743</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_change_futures_leverage</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_failure row-odd"><td class="tr_failure class"><p class="tr_failure">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_failure name"><p class="tr_failure">test_compute_side_futures_account</p></td>
<td class="tr_failure status"><p class="tr_failure">failure</p></td>
<td class="tr_failure reason"><p class="tr_failure">

self = &lt;futures_tests.TestFuturesBybit testMethod=test_compute_side_futures_account&gt;

    def test_compute_side_futures_account(self):
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__futures_account_trades, \
                self.symbol), \
                retry=MAX_RETRY, \
                retry_period=2)
        self.assertIsInstance(ret, list)
    
        pos = self.obj_bybit.cep__compute_side_futures_account(self.account, ret)
&gt;       self.assertEqual(pos, OUT)
E       AssertionError: “SHORT” != “OUT”
E       - SHORT
E       + OUT

tests/tu/bybit/futures_tests.py:83: AssertionError</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_account_balance</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_account_trades</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_futures_time</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_my_futures_position</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_passed name"><p class="tr_passed">test_get_symbol_price_futures</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_failure row-odd"><td class="tr_failure class"><p class="tr_failure">tests.tu.bybit.futures_tests.TestFuturesBybit</p></td>
<td class="tr_failure name"><p class="tr_failure">test_open_close_long_futures</p></td>
<td class="tr_failure status"><p class="tr_failure">failure</p></td>
<td class="tr_failure reason"><p class="tr_failure">

self = &lt;futures_tests.TestFuturesBybit testMethod=test_open_close_long_futures&gt;

    &#64;unittest.skipIf(open_close_flag==False, « This test was skipped because the account position side is not out. »)
    def test_open_close_long_futures(self):
        leverage = 20
        engaged_balance = 7
        price = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__get_symbol_price_futures, \
                self.symbol), \
                retry=MAX_RETRY, \
                retry_period=2)
    
        time.sleep(1)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__open_long_futures, \
                self.symbol, leverage, engaged_balance, \
                float(price[PRICE]), 1), \
                retry=3, \
                retry_period=2)
        self.assertEqual(ret, 0)
    
        time.sleep(2)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__futures_account_trades, \
                self.symbol))
        self.assertIsInstance(ret, list)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__compute_side_futures_account, \
                self.account, ret))
        self.assertEqual(ret, LONG)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__close_long_futures, \
                self.symbol), \
                retry=3, \
                retry_period=2)
        self.assertEqual(ret, 0)
    
        time.sleep(2)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__futures_account_trades, \
                self.symbol))
        self.assertIsInstance(ret, list)
    
        ret = self.obj_bybit.CEP__BaseFunction(functools.partial( \
                self.obj_bybit.cep__compute_side_futures_account, \
                self.account, ret))
&gt;       self.assertEqual(ret, OUT)
E       AssertionError: “SHORT” != “OUT”
E       - SHORT
E       + OUT

tests/tu/bybit/futures_tests.py:155: AssertionError</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Résultats de test de validation</p></li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li><p>SPOT</p></li>
</ul>
<h3><span class="section-number">3.4.2. </span>pytest<a class="headerlink" href="#bybit" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 2, Failures: 0, Errors: 0, Skips: -1</p>
<p>Time: 55.277</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tv.spot_tests.TestSpotBinanceTV</p></td>
<td class="tr_passed name"><p class="tr_passed">test_nominal</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tv.spot_tests.TestSpotBinanceTV</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_long</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>FUTURES</p></li>
</ul>
<h3><span class="section-number">3.4.2. </span>pytest<a class="headerlink" href="#bybit" title="Lien permanent vers ce titre"></a></h3>
<p>Tests: 3, Failures: 0, Errors: 0, Skips: -1</p>
<p>Time: 100.758</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>class</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>status</p></th>
<th class="head"><p>reason</p></th>
</tr>
</thead>
<tbody>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tv.futures_tests.TestFuturesBinanceTV</p></td>
<td class="tr_passed name"><p class="tr_passed">test_nominal</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-odd"><td class="tr_passed class"><p class="tr_passed">tests.tv.futures_tests.TestFuturesBinanceTV</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_long</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
<tr class="tr_passed row-even"><td class="tr_passed class"><p class="tr_passed">tests.tv.futures_tests.TestFuturesBinanceTV</p></td>
<td class="tr_passed name"><p class="tr_passed">test_open_close_short</p></td>
<td class="tr_passed status"><p class="tr_passed">passed</p></td>
<td class="tr_passed reason"><p class="tr_passed">

</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="qualite-de-code-et-couverture">
<h2><span class="section-number">3.5. </span>Qualité de code et couverture<a class="headerlink" href="#qualite-de-code-et-couverture" title="Lien permanent vers ce titre"></a></h2>
<p>Les résultats de tests sont également disponibles dans SonarQube. Une analyse complète de la couverture de code ainsi que de la qualité de code y figurent également.</p>
<div class="line-block">
<div class="line">Le logiciel est contenu dans un Docker, son utilisation permet de profiter pleinement de SonarQube gratuitement. L’intégration du Docker SonarQube dans le pipeline Github Action n’a pas été effectué, il faut donc lancer SonarQube manuellement.</div>
</div>
<p>Pour plus d’info pour remplir ce document :
<a class="reference external" href="https://readthedocs.org/projects/sphinx-test-reports/downloads/pdf/latest/">https://readthedocs.org/projects/sphinx-test-reports/downloads/pdf/latest/</a></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="CI.html" class="btn btn-neutral float-left" title="2. CI/CD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="Modules/Modules.html" class="btn btn-neutral float-right" title="4. Modules" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Xispa33.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>